<ion-row class="mt-2">
  <ion-row class="my-3">
    <h3 class="p-0 m-auto text-center" *ngIf="editMode == 'New'">
      {{'contract_new' | translate}}
    </h3>
    <h3 class="p-0 m-auto text-center" *ngIf="editMode == 'Update'">
      {{'contract_update' | translate}} {{ContractId ? '[' + ContractId + ']' : ''}}
    </h3>
    <h3 class="p-0 m-auto text-center" *ngIf="editMode == 'View'">
      {{'contract' | translate}} {{ContractId ? '[' + ContractId + ']' : ''}}
    </h3>
  </ion-row>
  <ion-row class="total-content4 mx-auto">
    <form [formGroup]="formGroup" class="w-100">
      <ion-row>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <input matInput type="text" formControlName="Id" placeholder="{{ 'contract_id' | translate }}" name="Id"
                maxlength="4" required>
              <mat-error>
                {{ 'contract_id_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <input matInput type="text" formControlName="Name" placeholder="{{ 'contract_name' | translate }}"
                name="Name" required>
              <mat-error>
                {{ 'contract_name_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <input matInput type="number" formControlName="Term" min="0"
                placeholder="{{ 'contract_term' | translate }}" name="Term" required>
              <mat-error>
                {{ 'contract_term_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <mat-select formControlName="TermUnit" placeholder="{{ 'contract_term_unit' | translate }}" required>
                <mat-option *ngFor="let itemList of termUnitList; let j = index" [value]="itemList">
                  {{ itemList | translate}}
                </mat-option>
              </mat-select>
              <mat-error>
                {{ 'contract_term_unit_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <input matInput type="number" formControlName="Disconnection" min="0"
                placeholder="{{ 'disconnection' | translate }}" name="Disconnection" required>
              <mat-error>
                {{ 'disconnection_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <mat-select formControlName="DisconnectionUnit" placeholder="{{ 'disconnection_unit' | translate }}"
                required>
                <mat-option *ngFor="let itemList of disconnectionUnitList; let j = index" [value]="itemList">
                  {{ itemList | translate}}
                </mat-option>
              </mat-select>
              <mat-error>
                {{ 'disconnection_unit_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <input matInput type="text" formControlName="DisconnectionFee" currencyMask
                [options]="globService.currencyOptions" autocomplete="off"
                placeholder="{{ 'disconnection_fee' | translate }}" name="DisconnectionFee" required>
              <mat-error>
                {{ 'disconnection_fee_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <mat-select mat-select formControlName="PenaltyId" placeholder="{{ 'penalty' | translate }}" required>
                <mat-option *ngFor="let itemList of penaltiesList; let j = index" [value]="itemList.Id">
                  {{ itemList.Name | translate}}
                </mat-option>
              </mat-select>
              <mat-error>
                {{ 'penalty_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <input matInput type="number" formControlName="PenaltyPercentage"
                placeholder="{{ 'penalty_percentage' | translate }}" name="PenaltyPercentage" min="0" max="100"
                required>
              <mat-error>
                {{ 'penalty_percentage_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <input matInput type="number" formControlName="CoolOffDays" min="0"
                placeholder="{{ 'cool_off_days' | translate }}" name="CoolOffDays" required>
              <mat-error>
                {{ 'cool_off_days_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <mat-select formControlName="Contact" placeholder="{{ 'contact' | translate }}" required>
                <mat-option [value]="true">True</mat-option>
                <mat-option [value]="false">False</mat-option>
              </mat-select>
              <mat-error>
                {{ 'contact_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="6" [sizeLg]="6" [sizeMd]="6" [sizeSm]="6" [sizeXs]="12">
          <ion-row class="mt-2">
            <mat-form-field class="example-full-width">
              <mat-select formControlName="Service" placeholder="{{ 'service' | translate }}" required>
                <mat-option [value]="true">True</mat-option>
                <mat-option [value]="false">False</mat-option>
              </mat-select>
              <mat-error>
                {{ 'service_required' | translate }}
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

        <ion-col [sizeXl]="12" [sizeLg]="12" [sizeMd]="12" [sizeSm]="12" [sizeXs]="12">
          <ion-header>
            <ion-toolbar>
              <ion-title>{{ 'extensions' | translate }}</ion-title>
            </ion-toolbar>
          </ion-header>
          <ion-row class="full-height" id="event-list-grid">
            <ion-row class="mt-3 left-right-auto">
              <app-datatable class="w-100" 
                [data]="extensionsDataSource"
                [columns]="columns"
                [usePagination]="false"
                [action]="dataTableAction"
                [permissions]="tablepermissions"
                [messageForRowDeletion]="deletionMsg"
                (onCreate)="addNew()"
                (onEdit)="editOne($event)" 
                (onDelete)="deleteItem($event)">
              </app-datatable>
            </ion-row>
          </ion-row>
        </ion-col>

      </ion-row>
      <button class="submitButton" id="submitButton"></button>
    </form>
    <ion-row class="my-1">

      <ion-row class="mt-1 jqx-button-row justify-content-center">
        <ion-col [sizeXl]="3" [sizeLg]="4" [sizeMd]="4" [sizeSm]="6" [sizeXs]="12" *ngIf="editMode != 'View'">
          <ion-row>
            <jqxButton (onClick)="saveContract()" [theme]="globService.themeColor" [disabled]="!formGroup?.valid"
              *ngIf="editMode == 'New'">
              {{ 'create' | translate }}
            </jqxButton>
            <jqxButton (onClick)="saveContract()" [theme]="globService.themeColor" [disabled]="!formGroup?.valid"
              *ngIf="editMode == 'Update'">
              {{ 'save' | translate }}
            </jqxButton>
          </ion-row>
        </ion-col>
        <ion-col [sizeXl]="3" [sizeLg]="4" [sizeMd]="4" [sizeSm]="6" [sizeXs]="12">
          <ion-row>
            <jqxButton (onClick)="close()" [theme]="globService.themeColor">
              {{ 'close' | translate }}
            </jqxButton>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-row>
  </ion-row>
</ion-row>
